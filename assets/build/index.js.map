{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./src/index.js","webpack:///./src/primary-term-selector.js","webpack:///./src/terms.js","webpack:///external {\"this\":[\"wp\",\"apiFetch\"]}","webpack:///external {\"this\":[\"wp\",\"components\"]}","webpack:///external {\"this\":[\"wp\",\"compose\"]}","webpack:///external {\"this\":[\"wp\",\"data\"]}","webpack:///external {\"this\":[\"wp\",\"element\"]}","webpack:///external {\"this\":[\"wp\",\"i18n\"]}","webpack:///external {\"this\":[\"wp\",\"url\"]}","webpack:///external {\"this\":\"lodash\"}"],"names":["CustomizeTaxonomySelector","OriginalComponent","props","window","stmpcParams","supportedTaxonomies","includes","slug","metafieldName","wp","element","createElement","PrimaryTermSelector","hooks","addFilter","DEFAULT_QUERY","per_page","orderby","order","_fields","MIN_TERMS_COUNT_FOR_FILTER","arguments","findTerm","bind","onChange","onChangeFormName","onChangeFormParent","onAddTerm","onToggleForm","onTogglePrimaryTerm","setFilterValue","sortBySelected","state","loading","availableTermsTree","availableTerms","adding","formName","formParent","showForm","filterValue","filteredTermsTree","event","onUpdateTerms","terms","taxonomy","primaryTermIds","termId","parseInt","target","value","hasTerm","indexOf","newTerms","without","rest_base","newValue","trim","setState","newParent","selectedTermId","preventDefault","currTermId","newMetaValue","JSON","stringify","setPostMeta","parent","name","find","term","toLowerCase","existingTerm","some","id","addRequest","apiFetch","path","method","data","undefined","findOrCreatePromise","catch","error","errorCode","code","addQueryArgs","search","then","searchResult","Promise","reject","availableTerm","newAvailableTerms","termAddedMessage","sprintf","_x","get","__","speak","buildTermsTree","xhr","statusText","fetchTerms","invoke","fetchRequest","prevProps","termsTree","treeHasSelection","termTree","children","anyChildIsSelected","map","filter","child","length","termOrChildIsSelected","termA","termB","termASelected","termBSelected","sort","getFilterMatcher","getResultCount","count","i","resultCount","resultsFoundMessage","_n","debouncedSpeak","matchTermsForFilter","originalTerm","renderedTerms","index","currPrimaryId","isChecked","isPrimary","flag","choiceClass","unescapeString","renderTerms","instanceId","hasCreateAction","hasAssignAction","labelWithFallback","labelProperty","fallbackIsCategory","fallbackIsNotCategory","newTermButtonLabel","newTermLabel","parentSelectLabel","noParentOption","newTermSubmitLabel","inputId","filterInputId","filterLabel","groupLabel","showFilter","Component","compose","withSelect","select","getCurrentPost","getTaxonomy","$metas","getEditedPostAttribute","parse","withDispatch","dispatch","restBase","editPost","fieldName","fieldValues","meta","withSpokenMessages","withInstanceId","flatTerms","flatTermsWithParentAndChildren","termsByParent","groupBy","null","fillWithChildren"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","/**\r\n * Internal dependencies\r\n */\r\nimport PrimaryTermSelector from './primary-term-selector';\r\n\r\n/**\r\n * For supported taxonomies, replace the standard taxonomies metabox with a custom React component\r\n *\r\n * @param OriginalComponent\r\n * @uses window.stmpcParams\r\n *\r\n * @returns {Function} Custom react component\r\n */\r\nfunction CustomizeTaxonomySelector( OriginalComponent ) {\r\n  return function( props ) {\r\n    if ( window.stmpcParams.supportedTaxonomies.includes( props.slug ) ) {\r\n      props.metafieldName = window.stmpcParams.metafieldName;\r\n\r\n      return wp.element.createElement(\r\n        PrimaryTermSelector,\r\n        props\r\n      );\r\n    } else {\r\n\r\n      return wp.element.createElement(\r\n        OriginalComponent,\r\n        props\r\n      );\r\n    }\r\n  }\r\n};\r\n\r\nwp.hooks.addFilter(\r\n  'editor.PostTaxonomyType',\r\n  'st-mpc',\r\n  CustomizeTaxonomySelector\r\n);\r\n","/**\n * Based on the original https://github.com/WordPress/gutenberg/blob/master/packages/editor/src/components/post-taxonomies/hierarchical-term-selector.js\n */\n/**\n * External dependencies\n */\nimport { get, unescape as unescapeString, without, find, some, invoke } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __, _x, _n, sprintf } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { TreeSelect, withSpokenMessages, withFilters, Button } from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { withInstanceId, compose } from '@wordpress/compose';\nimport apiFetch from '@wordpress/api-fetch';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport { buildTermsTree } from './terms';\n\n/**\n * Module Constants\n */\nconst DEFAULT_QUERY = {\n  per_page: -1,\n  orderby: 'name',\n  order: 'asc',\n  _fields: 'id,name,parent',\n};\n\nconst MIN_TERMS_COUNT_FOR_FILTER = 8;\n\nclass PrimaryTermSelector extends Component {\n  constructor() {\n    super( ...arguments );\n    this.findTerm = this.findTerm.bind( this );\n    this.onChange = this.onChange.bind( this );\n    this.onChangeFormName = this.onChangeFormName.bind( this );\n    this.onChangeFormParent = this.onChangeFormParent.bind( this );\n    this.onAddTerm = this.onAddTerm.bind( this );\n    this.onToggleForm = this.onToggleForm.bind( this );\n    this.onTogglePrimaryTerm = this.onTogglePrimaryTerm.bind( this );\n    this.setFilterValue = this.setFilterValue.bind( this );\n    this.sortBySelected = this.sortBySelected.bind( this );\n    this.state = {\n      loading: true,\n      availableTermsTree: [],\n      availableTerms: [],\n      adding: false,\n      formName: '',\n      formParent: '',\n      showForm: false,\n      filterValue: '',\n      filteredTermsTree: [],\n    };\n  }\n\n  onChange( event ) {\n    const { onUpdateTerms, terms = [], taxonomy, slug, primaryTermIds } = this.props;\n    const termId = parseInt( event.target.value, 10 );\n    const hasTerm = terms.indexOf( termId ) !== -1;\n    const newTerms = hasTerm ?\n      without( terms, termId ) :\n      [ ...terms, termId ];\n\n    if ( hasTerm && primaryTermIds[ slug ] && termId === primaryTermIds[ slug ] ) {\n      /**\n       * if primary term is no longer checked, clear the primary flag\n       */\n      this.onTogglePrimaryTerm( null, primaryTermIds[ slug ] );\n    }\n\n    onUpdateTerms( newTerms, taxonomy.rest_base );\n  }\n\n  onChangeFormName( event ) {\n    const newValue = event.target.value.trim() === '' ? '' : event.target.value;\n    this.setState( { formName: newValue } );\n  }\n\n  onChangeFormParent( newParent ) {\n    this.setState( { formParent: newParent } );\n  }\n\n  onToggleForm() {\n    this.setState( ( state ) => ( {\n      showForm: ! state.showForm,\n    } ) );\n  }\n\n  onTogglePrimaryTerm( event, selectedTermId ) {\n\n    if( event ) {\n      event.preventDefault();\n    }\n\n    const currTermId = this.props.primaryTermIds[ this.props.slug ] || 0;\n\n    const newValue = ( currTermId !== selectedTermId )\n      ? selectedTermId\n      : 0;\n\n    /**\n     * merge new value into existing array of primaryTerms\n     */\n    const newMetaValue = JSON.stringify({\n      ...this.props.primaryTermIds,\n      [ this.props.slug ]: newValue\n    });\n\n    this.props.setPostMeta( this.props.metafieldName, newMetaValue );\n  }\n\n  findTerm( terms, parent, name ) {\n    return find( terms, ( term ) => {\n      return ( ( ! term.parent && ! parent ) || parseInt( term.parent ) === parseInt( parent ) ) &&\n        term.name.toLowerCase() === name.toLowerCase();\n    } );\n  }\n\n  onAddTerm( event ) {\n    event.preventDefault();\n    const { onUpdateTerms, taxonomy, terms, slug } = this.props;\n    const { formName, formParent, adding, availableTerms } = this.state;\n    if ( formName === '' || adding ) {\n      return;\n    }\n\n    // check if the term we are adding already exists\n    const existingTerm = this.findTerm( availableTerms, formParent, formName );\n    if ( existingTerm ) {\n      // if the term we are adding exists but is not selected select it\n      if ( ! some( terms, ( term ) => term === existingTerm.id ) ) {\n        onUpdateTerms( [ ...terms, existingTerm.id ], taxonomy.rest_base );\n      }\n      this.setState( {\n        formName: '',\n        formParent: '',\n      } );\n      return;\n    }\n\n    this.setState( {\n      adding: true,\n    } );\n    this.addRequest = apiFetch( {\n      path: `/wp/v2/${ taxonomy.rest_base }`,\n      method: 'POST',\n      data: {\n        name: formName,\n        parent: formParent ? formParent : undefined,\n      },\n    } );\n    // Tries to create a term or fetch it if it already exists\n    const findOrCreatePromise = this.addRequest\n      .catch( ( error ) => {\n        const errorCode = error.code;\n        if ( errorCode === 'term_exists' ) {\n          // search the new category created since last fetch\n          this.addRequest = apiFetch( {\n            path: addQueryArgs(\n              `/wp/v2/${ taxonomy.rest_base }`,\n              { ...DEFAULT_QUERY, parent: formParent || 0, search: formName }\n            ),\n          } );\n          return this.addRequest\n            .then( ( searchResult ) => {\n              return this.findTerm( searchResult, formParent, formName );\n            } );\n        }\n        return Promise.reject( error );\n      } );\n    findOrCreatePromise\n      .then( ( term ) => {\n        const hasTerm = !! find( this.state.availableTerms, ( availableTerm ) => availableTerm.id === term.id );\n        const newAvailableTerms = hasTerm ? this.state.availableTerms : [ term, ...this.state.availableTerms ];\n        const termAddedMessage = sprintf(\n          _x( '%s added', 'term' ),\n          get(\n            this.props.taxonomy,\n            [ 'labels', 'singular_name' ],\n            slug === 'category' ? __( 'Category' ) : __( 'Term' )\n          )\n        );\n        this.props.speak( termAddedMessage, 'assertive' );\n        this.addRequest = null;\n        this.setState( {\n          adding: false,\n          formName: '',\n          formParent: '',\n          availableTerms: newAvailableTerms,\n          availableTermsTree: this.sortBySelected( buildTermsTree( newAvailableTerms ) ),\n        } );\n        onUpdateTerms( [ ...terms, term.id ], taxonomy.rest_base );\n      }, ( xhr ) => {\n        if ( xhr.statusText === 'abort' ) {\n          return;\n        }\n        this.addRequest = null;\n        this.setState( {\n          adding: false,\n        } );\n      } );\n  }\n\n  componentDidMount() {\n    this.fetchTerms();\n  }\n\n  componentWillUnmount() {\n    invoke( this.fetchRequest, [ 'abort' ] );\n    invoke( this.addRequest, [ 'abort' ] );\n  }\n\n  componentDidUpdate( prevProps ) {\n    if ( this.props.taxonomy !== prevProps.taxonomy ) {\n      this.fetchTerms();\n    }\n  }\n\n  fetchTerms() {\n    const { taxonomy } = this.props;\n    if ( ! taxonomy ) {\n      return;\n    }\n    this.fetchRequest = apiFetch( {\n      path: addQueryArgs( `/wp/v2/${ taxonomy.rest_base }`, DEFAULT_QUERY ),\n    } );\n    this.fetchRequest.then(\n      ( terms ) => { // resolve\n        const availableTermsTree = this.sortBySelected( buildTermsTree( terms ) );\n\n        this.fetchRequest = null;\n        this.setState( {\n          loading: false,\n          availableTermsTree,\n          availableTerms: terms,\n        } );\n      },\n      ( xhr ) => { // reject\n        if ( xhr.statusText === 'abort' ) {\n          return;\n        }\n        this.fetchRequest = null;\n        this.setState( {\n          loading: false,\n        } );\n      }\n    );\n  }\n\n  sortBySelected( termsTree ) {\n    const { terms } = this.props;\n    const treeHasSelection = ( termTree ) => {\n      if ( terms.indexOf( termTree.id ) !== -1 ) {\n        return true;\n      }\n      if ( undefined === termTree.children ) {\n        return false;\n      }\n      const anyChildIsSelected = termTree.children.map( treeHasSelection ).filter( ( child ) => child ).length > 0;\n      if ( anyChildIsSelected ) {\n        return true;\n      }\n      return false;\n    };\n    const termOrChildIsSelected = ( termA, termB ) => {\n      const termASelected = treeHasSelection( termA );\n      const termBSelected = treeHasSelection( termB );\n\n      if ( termASelected === termBSelected ) {\n        return 0;\n      }\n\n      if ( termASelected && ! termBSelected ) {\n        return -1;\n      }\n\n      if ( ! termASelected && termBSelected ) {\n        return 1;\n      }\n\n      return 0;\n    };\n    termsTree.sort( termOrChildIsSelected );\n    return termsTree;\n  }\n\n  setFilterValue( event ) {\n    const { availableTermsTree } = this.state;\n    const filterValue = event.target.value;\n    const filteredTermsTree = availableTermsTree.map( this.getFilterMatcher( filterValue ) ).filter( ( term ) => term );\n    const getResultCount = ( terms ) => {\n      let count = 0;\n      for ( let i = 0; i < terms.length; i++ ) {\n        count++;\n        if ( undefined !== terms[ i ].children ) {\n          count += getResultCount( terms[ i ].children );\n        }\n      }\n      return count;\n    };\n    this.setState(\n      {\n        filterValue,\n        filteredTermsTree,\n      }\n    );\n\n    const resultCount = getResultCount( filteredTermsTree );\n    const resultsFoundMessage = sprintf(\n      _n( '%d result found.', '%d results found.', resultCount ),\n      resultCount\n    );\n    this.props.debouncedSpeak( resultsFoundMessage, 'assertive' );\n  }\n\n  getFilterMatcher( filterValue ) {\n    const matchTermsForFilter = ( originalTerm ) => {\n      if ( '' === filterValue ) {\n        return originalTerm;\n      }\n\n      // Shallow clone, because we'll be filtering the term's children and\n      // don't want to modify the original term.\n      const term = { ...originalTerm };\n\n      // Map and filter the children, recursive so we deal with grandchildren\n      // and any deeper levels.\n      if ( term.children.length > 0 ) {\n        term.children = term.children.map( matchTermsForFilter ).filter( ( child ) => child );\n      }\n\n      // If the term's name contains the filterValue, or it has children\n      // (i.e. some child matched at some point in the tree) then return it.\n      if ( -1 !== term.name.toLowerCase().indexOf( filterValue.toLowerCase() ) || term.children.length > 0 ) {\n        return term;\n      }\n\n      // Otherwise, return false. After mapping, the list of terms will need\n      // to have false values filtered out.\n      return false;\n    };\n    return matchTermsForFilter;\n  }\n\n  renderTerms( renderedTerms ) {\n    const { terms = [], primaryTermIds, taxonomy } = this.props;\n    return renderedTerms.map( ( term, index ) => {\n      const id = `editor-post-taxonomies-hierarchical-term-${ term.id }`;\n\n      const currPrimaryId = primaryTermIds[ taxonomy.slug ] || 0;\n      const isChecked = terms.indexOf( term.id ) !== -1;\n      const isPrimary = term.id === currPrimaryId || (currPrimaryId === 0 && index === 0);\n\n      const flag = isChecked\n        ? <i\n            className={'dashicons dashicons-flag' + (isPrimary ? ' is-active' : '')}\n            title={ isPrimary ? __( 'Make not primary', 'stmpc' ) : __( 'Mark as primary', 'stmpc' ) }\n            onClick={ ( event ) => this.onTogglePrimaryTerm( event, term.id ) }\n          />\n        : '';\n\n      const choiceClass = 'editor-post-taxonomies__hierarchical-terms-choice' + (isPrimary ? ' is-active' : '');\n\n      return (\n        <div key={ term.id } className={choiceClass}>\n          <label htmlFor={ id }>\n            <input\n              id={ id }\n              className=\"editor-post-taxonomies__hierarchical-terms-input\"\n              type=\"checkbox\"\n              checked={ isChecked }\n              value={ term.id }\n              onChange={ this.onChange }\n            />\n            { unescapeString( term.name ) }{flag}\n          </label>\n          { !! term.children.length && (\n            <div className=\"editor-post-taxonomies__hierarchical-terms-subchoices\">\n              { this.renderTerms( term.children ) }\n            </div>\n          ) }\n        </div>\n      );\n    } );\n  }\n\n  render() {\n\n    const { slug, taxonomy, instanceId, hasCreateAction, hasAssignAction } = this.props;\n\n    if ( ! hasAssignAction ) {\n      return null;\n    }\n\n    const { availableTermsTree, availableTerms, filteredTermsTree, formName, formParent, loading, showForm, filterValue } = this.state;\n    const labelWithFallback = ( labelProperty, fallbackIsCategory, fallbackIsNotCategory ) => get(\n      taxonomy,\n      [ 'labels', labelProperty ],\n      slug === 'category' ? fallbackIsCategory : fallbackIsNotCategory\n    );\n    const newTermButtonLabel = labelWithFallback(\n      'add_new_item',\n      __( 'Add new category' ),\n      __( 'Add new term' )\n    );\n    const newTermLabel = labelWithFallback(\n      'new_item_name',\n      __( 'Add new category' ),\n      __( 'Add new term' )\n    );\n    const parentSelectLabel = labelWithFallback(\n      'parent_item',\n      __( 'Parent Category' ),\n      __( 'Parent Term' )\n    );\n    const noParentOption = `— ${ parentSelectLabel } —`;\n    const newTermSubmitLabel = newTermButtonLabel;\n    const inputId = `editor-post-taxonomies__hierarchical-terms-input-${ instanceId }`;\n    const filterInputId = `editor-post-taxonomies__hierarchical-terms-filter-${ instanceId }`;\n    const filterLabel = get(\n      this.props.taxonomy,\n      [ 'labels', 'search_items' ],\n      __( 'Search Terms' )\n    );\n    const groupLabel = get(\n      this.props.taxonomy,\n      [ 'name' ],\n      __( 'Terms' )\n    );\n    const showFilter = availableTerms.length >= MIN_TERMS_COUNT_FOR_FILTER;\n\n    return [\n      showFilter && <label\n        key=\"filter-label\"\n        htmlFor={ filterInputId }>\n        { filterLabel }\n      </label>,\n      showFilter && <input\n        type=\"search\"\n        id={ filterInputId }\n        value={ filterValue }\n        onChange={ this.setFilterValue }\n        className=\"editor-post-taxonomies__hierarchical-terms-filter\"\n        key=\"term-filter-input\"\n      />,\n      <div\n        className=\"editor-post-taxonomies__hierarchical-terms-list\"\n        key=\"term-list\"\n        tabIndex=\"0\"\n        role=\"group\"\n        aria-label={ groupLabel }\n      >\n        { this.renderTerms( '' !== filterValue ? filteredTermsTree : availableTermsTree ) }\n      </div>,\n      ! loading && hasCreateAction && (\n        <Button\n          key=\"term-add-button\"\n          onClick={ this.onToggleForm }\n          className=\"editor-post-taxonomies__hierarchical-terms-add\"\n          aria-expanded={ showForm }\n          isLink\n        >\n          { newTermButtonLabel }\n        </Button>\n      ),\n      showForm && (\n        <form onSubmit={ this.onAddTerm } key=\"hierarchical-terms-form\">\n          <label\n            htmlFor={ inputId }\n            className=\"editor-post-taxonomies__hierarchical-terms-label\"\n          >\n            { newTermLabel }\n          </label>\n          <input\n            type=\"text\"\n            id={ inputId }\n            className=\"editor-post-taxonomies__hierarchical-terms-input\"\n            value={ formName }\n            onChange={ this.onChangeFormName }\n            required\n          />\n          { !! availableTerms.length &&\n          <TreeSelect\n            label={ parentSelectLabel }\n            noOptionLabel={ noParentOption }\n            onChange={ this.onChangeFormParent }\n            selectedId={ formParent }\n            tree={ availableTermsTree }\n          />\n          }\n          <Button\n            isDefault\n            type=\"submit\"\n            className=\"editor-post-taxonomies__hierarchical-terms-submit\"\n          >\n            { newTermSubmitLabel }\n          </Button>\n        </form>\n      ),\n    ];\n\n  }\n}\n\nexport default compose( [\n  withSelect( ( select, { slug, metafieldName } ) => {\n    const { getCurrentPost } = select( 'core/editor' );\n    const { getTaxonomy } = select( 'core' );\n    const taxonomy = getTaxonomy( slug );\n\n    /**\n     * will be undefined for new posts\n     */\n    const $metas = select('core/editor').getEditedPostAttribute('meta') || {};\n\n    return {\n      primaryTermIds: $metas[metafieldName] ? JSON.parse( $metas[metafieldName] ) : {},\n      hasCreateAction: taxonomy ? get( getCurrentPost(), [ '_links', 'wp:action-create-' + taxonomy.rest_base ], false ) : false,\n      hasAssignAction: taxonomy ? get( getCurrentPost(), [ '_links', 'wp:action-assign-' + taxonomy.rest_base ], false ) : false,\n      terms: taxonomy ? select( 'core/editor' ).getEditedPostAttribute( taxonomy.rest_base ) : [],\n      taxonomy,\n    };\n  } ),\n  withDispatch( ( dispatch ) => ( {\n    onUpdateTerms( terms, restBase ) {\n      dispatch( 'core/editor' ).editPost( { [ restBase ]: terms } );\n    },\n    setPostMeta( fieldName, fieldValues ) {\n      dispatch( 'core/editor' ).editPost( {\n        meta: {\n          [ fieldName ]: fieldValues\n        }\n      });\n    }\n  } ) ),\n  withSpokenMessages,\n  withInstanceId,\n  // withFilters( 'editor.PostTaxonomyType' ) intentionally commented out to avoid infinite loop\n] )( PrimaryTermSelector );\n","/**\r\n * A verbatim copy of\r\n * https://github.com/WordPress/gutenberg/blob/master/packages/editor/src/utils/terms.js\r\n */\r\n/**\r\n * External dependencies\r\n */\r\nimport { groupBy } from 'lodash';\r\n\r\n/**\r\n * Returns terms in a tree form.\r\n *\r\n * @param {Array} flatTerms  Array of terms in flat format.\r\n *\r\n * @return {Array} Array of terms in tree format.\r\n */\r\nexport function buildTermsTree( flatTerms ) {\r\n\r\n  const flatTermsWithParentAndChildren = flatTerms.map( ( term ) => {\r\n    return {\r\n      children: [],\r\n      parent: null,\r\n      ...term,\r\n    };\r\n  } );\r\n\r\n  const termsByParent = groupBy( flatTermsWithParentAndChildren, 'parent' );\r\n  if ( termsByParent.null && termsByParent.null.length ) {\r\n    return flatTermsWithParentAndChildren;\r\n  }\r\n  const fillWithChildren = ( terms ) => {\r\n    return terms.map( ( term ) => {\r\n      const children = termsByParent[ term.id ];\r\n      return {\r\n        ...term,\r\n        children: children && children.length ?\r\n          fillWithChildren( children ) :\r\n          [],\r\n      };\r\n    } );\r\n  };\r\n\r\n  return fillWithChildren( termsByParent[ '0' ] || [] );\r\n}\r\n","(function() { module.exports = this[\"wp\"][\"apiFetch\"]; }());","(function() { module.exports = this[\"wp\"][\"components\"]; }());","(function() { module.exports = this[\"wp\"][\"compose\"]; }());","(function() { module.exports = this[\"wp\"][\"data\"]; }());","(function() { module.exports = this[\"wp\"][\"element\"]; }());","(function() { module.exports = this[\"wp\"][\"i18n\"]; }());","(function() { module.exports = this[\"wp\"][\"url\"]; }());","(function() { module.exports = this[\"lodash\"]; }());"],"sourceRoot":""}